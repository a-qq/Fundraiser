2021-06-02 23:36:20.492 +02:00 [INF] Configuring web host ()...
2021-06-02 23:36:26.152 +02:00 [INF] Applying migrations ()...
2021-06-02 23:36:26.609 +02:00 [INF] Migrating database associated with context SchoolContext
2021-06-02 23:36:29.102 +02:00 [INF] Migrated database associated with context SchoolContext
2021-06-02 23:36:29.116 +02:00 [INF] Migrating database associated with context IntegrationEventLogContext
2021-06-02 23:36:29.219 +02:00 [INF] Migrated database associated with context IntegrationEventLogContext
2021-06-02 23:36:29.222 +02:00 [INF] Migrating database associated with context DeadLetterContext
2021-06-02 23:36:29.845 +02:00 [INF] Migrated database associated with context DeadLetterContext
2021-06-02 23:36:29.853 +02:00 [INF] Migrating database associated with context FundraiserContext
2021-06-02 23:36:30.415 +02:00 [INF] Migrated database associated with context FundraiserContext
2021-06-02 23:36:30.419 +02:00 [INF] Migrating database associated with context IntegrationEventLogContext
2021-06-02 23:36:30.490 +02:00 [INF] Migrated database associated with context IntegrationEventLogContext
2021-06-02 23:36:30.490 +02:00 [INF] Starting web host ()...
2021-06-02 23:36:31.024 +02:00 [INF] RabbitMQ Client is trying to connect
2021-06-02 23:36:31.203 +02:00 [INF] RabbitMQ Client acquired a persistent connection to 'localhost' and is subscribed to failure events
2021-06-02 23:36:31.262 +02:00 [INF] Subscribing to event UserRegisteredIntegrationEvent with IIntegrationEventHandler<UserRegisteredIntegrationEvent>
2021-06-02 23:36:31.302 +02:00 [INF] Subscribing to event DeadLetterIntegrationEvent with IIntegrationEventHandler<DeadLetterIntegrationEvent>
2021-06-02 23:38:37.556 +02:00 [ERR] Error when processing request Autofac
Autofac.Core.DependencyResolutionException: An exception was thrown while activating Microsoft.AspNetCore.Authorization.Policy.PolicyEvaluator -> Microsoft.AspNetCore.Authorization.DefaultAuthorizationService -> Microsoft.AspNetCore.Authorization.DefaultAuthorizationHandlerProvider -> λ:Microsoft.AspNetCore.Authorization.IAuthorizationHandler[] -> SharedKernel.Infrastructure.Authorization.GroupIdOfRequestAndCurrentUserMustMatchWhenGroupMemberRequirementHandler -> SharedKernel.Infrastructure.Concretes.Services.IdentityService.
 ---> Autofac.Core.DependencyResolutionException: Circular component dependency detected: Microsoft.AspNetCore.Authorization.Policy.PolicyEvaluator -> Microsoft.AspNetCore.Authorization.DefaultAuthorizationService -> Microsoft.AspNetCore.Authorization.DefaultAuthorizationHandlerProvider -> λ:Microsoft.AspNetCore.Authorization.IAuthorizationHandler[] -> SharedKernel.Infrastructure.Authorization.GroupIdOfRequestAndCurrentUserMustMatchWhenGroupMemberRequirementHandler -> SharedKernel.Infrastructure.Concretes.Services.IdentityService -> Microsoft.AspNetCore.Authorization.DefaultAuthorizationService.
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.Pipeline.DefaultResolveRequestContext.ResolveComponent(ResolveRequest request)
   at Autofac.Core.Activators.Reflection.AutowiringParameter.<>c__DisplayClass0_0.<CanSupplyValue>b__0()
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.<ConfigurePipeline>b__11_0(ResolveRequestContext ctxt, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DelegateMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Middleware.RegistrationPipelineInvokeMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.Resolve(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetRequiredService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at eSchool.API.Middleware.ExceptionHandler.Invoke(HttpContext context) in C:\Users\aqq\source\repos\FundraiserBackend\src\eSchool.API\Middleware\ExceptionHandler.cs:line 31
