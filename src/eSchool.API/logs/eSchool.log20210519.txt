2021-05-19 17:22:15.722 +02:00 [INF] Configuring web host ()...
2021-05-19 17:22:19.323 +02:00 [INF] Applying migrations ()...
2021-05-19 17:22:20.813 +02:00 [INF] Migrating database associated with context SchoolContext
2021-05-19 17:22:23.808 +02:00 [INF] Migrated database associated with context SchoolContext
2021-05-19 17:22:23.821 +02:00 [INF] Migrating database associated with context IntegrationEventLogContext
2021-05-19 17:22:23.872 +02:00 [INF] Migrated database associated with context IntegrationEventLogContext
2021-05-19 17:22:23.876 +02:00 [INF] Migrating database associated with context DeadLetterContext
2021-05-19 17:22:23.895 +02:00 [INF] Migrated database associated with context DeadLetterContext
2021-05-19 17:22:23.895 +02:00 [INF] Starting web host ()...
2021-05-19 17:22:24.833 +02:00 [INF] RabbitMQ Client is trying to connect
2021-05-19 18:12:41.474 +02:00 [INF] Configuring web host ()...
2021-05-19 18:12:43.810 +02:00 [INF] Applying migrations ()...
2021-05-19 18:12:44.097 +02:00 [INF] Migrating database associated with context SchoolContext
2021-05-19 18:12:46.377 +02:00 [INF] Migrated database associated with context SchoolContext
2021-05-19 18:12:46.391 +02:00 [INF] Migrating database associated with context IntegrationEventLogContext
2021-05-19 18:12:46.444 +02:00 [INF] Migrated database associated with context IntegrationEventLogContext
2021-05-19 18:12:46.447 +02:00 [INF] Migrating database associated with context DeadLetterContext
2021-05-19 18:12:46.691 +02:00 [INF] Migrated database associated with context DeadLetterContext
2021-05-19 18:12:46.692 +02:00 [INF] Starting web host ()...
2021-05-19 18:12:48.325 +02:00 [INF] RabbitMQ Client is trying to connect
2021-05-19 18:12:48.818 +02:00 [INF] RabbitMQ Client acquired a persistent connection to 'localhost' and is subscribed to failure events
2021-05-19 18:12:48.913 +02:00 [INF] Subscribing to event UserRegisteredIntegrationEvent with IIntegrationEventHandler<UserRegisteredIntegrationEvent>
2021-05-19 18:12:48.931 +02:00 [INF] Subscribing to event DeadLetterIntegrationEvent with IIntegrationEventHandler<DeadLetterIntegrationEvent>
2021-05-19 18:13:55.157 +02:00 [INF] ----- Handling user request RegisterSchoolCommand ({"Name":"II LO Łańcut","YearsOfEducation":2,"HeadmasterFirstName":"Adam","HeadmasterLastName":"nowak","HeadmasterEmail":"halexa6703@mxcdd.com","HeadmasterGender":"male","$type":"RegisterSchoolCommand"})
2021-05-19 18:13:55.246 +02:00 [INF] ----- Begin transaction "df6850c9-8636-47a5-b4fc-5736d7befbc4" for RegisterSchoolCommand ({"Name":"II LO Łańcut","YearsOfEducation":2,"HeadmasterFirstName":"Adam","HeadmasterLastName":"nowak","HeadmasterEmail":"halexa6703@mxcdd.com","HeadmasterGender":"male","$type":"RegisterSchoolCommand"})
2021-05-19 18:13:55.969 +02:00 [INF] Publishing domain event. Event - MemberEnrolledDomainEvent
2021-05-19 18:13:56.473 +02:00 [INF] ----- Enqueuing integration event "0f3e7c72-a910-4a59-9d6c-54072a948bf4" to repository ({"MemberId":{"Value":"0e6c654b-d428-4128-816e-caf352324c01","$type":"MemberId"},"Email":"halexa6703@mxcdd.com","Role":"Headmaster","SchoolId":{"Value":"d4e6058b-302e-42ea-aa2f-994a66c374fc","$type":"SchoolId"},"FirstName":"Adam","LastName":"Nowak","Gender":"Male","Id":"0f3e7c72-a910-4a59-9d6c-54072a948bf4","CreationDate":"2021-05-19T16:13:56.4667378Z","$type":"MemberEnrolledIntegrationEvent"})
2021-05-19 18:13:56.856 +02:00 [INF] ----- Commit transaction "df6850c9-8636-47a5-b4fc-5736d7befbc4" for RegisterSchoolCommand
2021-05-19 18:14:03.775 +02:00 [INF] ----- Publishing integration event: "0f3e7c72-a910-4a59-9d6c-54072a948bf4" from  - ({"MemberId":{"Value":"0e6c654b-d428-4128-816e-caf352324c01","$type":"MemberId"},"Email":"halexa6703@mxcdd.com","Role":"Headmaster","SchoolId":{"Value":"d4e6058b-302e-42ea-aa2f-994a66c374fc","$type":"SchoolId"},"FirstName":"Adam","LastName":"Nowak","Gender":"Male","Id":"0f3e7c72-a910-4a59-9d6c-54072a948bf4","CreationDate":"2021-05-19T16:13:56.4667378Z","$type":"MemberEnrolledIntegrationEvent"})
2021-05-19 18:14:03.851 +02:00 [INF] ----- Request RegisterSchoolCommand handled successfully - response: {"Id":"d4e6058b-302e-42ea-aa2f-994a66c374fc","Name":"Ii lo łańcut","YearsOfEducation":2,"Headmaster":{"Id":"0e6c654b-d428-4128-816e-caf352324c01","FirstName":"Adam","LastName":"Nowak","Email":"halexa6703@mxcdd.com","Role":"Headmaster","Gender":"Male","$type":"MemberDTO"},"$type":"SchoolCreatedDTO"}
2021-05-19 18:15:49.035 +02:00 [INF] ----- Handling user request EnrollMemberCommand ({"FirstName":"Adam","LastName":"kowalski","Email":"qgy61018@zwoho.com","Role":"student","Gender":"male","SchoolId":"d4e6058b-302e-42ea-aa2f-994a66c374fc","$type":"EnrollMemberCommand"})
2021-05-19 18:15:49.041 +02:00 [INF] ----- Begin transaction "ed9c15ab-71e5-4482-8d75-4ef6f05693bb" for EnrollMemberCommand ({"FirstName":"Adam","LastName":"kowalski","Email":"qgy61018@zwoho.com","Role":"student","Gender":"male","SchoolId":"d4e6058b-302e-42ea-aa2f-994a66c374fc","$type":"EnrollMemberCommand"})
2021-05-19 18:15:49.146 +02:00 [INF] Publishing domain event. Event - MemberEnrolledDomainEvent
2021-05-19 18:15:49.165 +02:00 [INF] ----- Enqueuing integration event "f38f8e01-2aa8-411e-a7a9-ea3a35aabcaf" to repository ({"MemberId":{"Value":"bd2015cd-aae0-4f2c-9542-424ddbf639e8","$type":"MemberId"},"Email":"qgy61018@zwoho.com","Role":"Student","SchoolId":{"Value":"d4e6058b-302e-42ea-aa2f-994a66c374fc","$type":"SchoolId"},"FirstName":"Adam","LastName":"Kowalski","Gender":"Male","Id":"f38f8e01-2aa8-411e-a7a9-ea3a35aabcaf","CreationDate":"2021-05-19T16:15:49.1653174Z","$type":"MemberEnrolledIntegrationEvent"})
2021-05-19 18:15:49.178 +02:00 [INF] ----- Commit transaction "ed9c15ab-71e5-4482-8d75-4ef6f05693bb" for EnrollMemberCommand
2021-05-19 18:15:49.181 +02:00 [INF] ----- Publishing integration event: "f38f8e01-2aa8-411e-a7a9-ea3a35aabcaf" from  - ({"MemberId":{"Value":"bd2015cd-aae0-4f2c-9542-424ddbf639e8","$type":"MemberId"},"Email":"qgy61018@zwoho.com","Role":"Student","SchoolId":{"Value":"d4e6058b-302e-42ea-aa2f-994a66c374fc","$type":"SchoolId"},"FirstName":"Adam","LastName":"Kowalski","Gender":"Male","Id":"f38f8e01-2aa8-411e-a7a9-ea3a35aabcaf","CreationDate":"2021-05-19T16:15:49.1653174Z","$type":"MemberEnrolledIntegrationEvent"})
2021-05-19 18:15:49.198 +02:00 [INF] ----- Request EnrollMemberCommand handled successfully - response: {"Id":"bd2015cd-aae0-4f2c-9542-424ddbf639e8","FirstName":"Adam","LastName":"Kowalski","Email":"qgy61018@zwoho.com","Role":"Student","Gender":"Male","$type":"MemberDTO"}
2021-05-19 18:17:32.633 +02:00 [INF] ----- Handling user request CreateGroupCommand ({"Number":2,"Sign":"b","SchoolId":"d4e6058b-302e-42ea-aa2f-994a66c374fc","$type":"CreateGroupCommand"})
2021-05-19 18:17:32.637 +02:00 [INF] ----- Begin transaction "d5b05bd8-0da9-447f-a285-15f6031bc038" for CreateGroupCommand ({"Number":2,"Sign":"b","SchoolId":"d4e6058b-302e-42ea-aa2f-994a66c374fc","$type":"CreateGroupCommand"})
2021-05-19 18:17:32.717 +02:00 [INF] ----- Commit transaction "d5b05bd8-0da9-447f-a285-15f6031bc038" for CreateGroupCommand
2021-05-19 18:17:32.722 +02:00 [INF] ----- Request CreateGroupCommand handled successfully - response: {"Id":"2187da54-4c8a-45cb-9cc6-f8be2404601e","Code":"2b","$type":"GroupDTO"}
2021-05-19 18:18:01.245 +02:00 [INF] ----- Handling user request AssignStudentToGroupCommand ({"StudentId":"bd2015cd-aae0-4f2c-9542-424ddbf639e8","GroupId":"2187da54-4c8a-45cb-9cc6-f8be2404601e","SchoolId":"d4e6058b-302e-42ea-aa2f-994a66c374fc","$type":"AssignStudentToGroupCommand"})
2021-05-19 18:18:01.258 +02:00 [INF] ----- Begin transaction "4817b723-e52a-4b48-a86a-e623f1331922" for AssignStudentToGroupCommand ({"StudentId":"bd2015cd-aae0-4f2c-9542-424ddbf639e8","GroupId":"2187da54-4c8a-45cb-9cc6-f8be2404601e","SchoolId":"d4e6058b-302e-42ea-aa2f-994a66c374fc","$type":"AssignStudentToGroupCommand"})
2021-05-19 18:18:01.338 +02:00 [INF] Publishing domain event. Event - StudentAssignedDomainEvent
2021-05-19 18:18:01.341 +02:00 [INF] ----- Enqueuing integration event "db1f8279-04e6-4d25-b8de-c101d885a6fb" to repository ({"StudentId":{"Value":"bd2015cd-aae0-4f2c-9542-424ddbf639e8","$type":"MemberId"},"GroupId":{"Value":"2187da54-4c8a-45cb-9cc6-f8be2404601e","$type":"GroupId"},"Id":"db1f8279-04e6-4d25-b8de-c101d885a6fb","CreationDate":"2021-05-19T16:18:01.3412548Z","$type":"StudentAssignedIntegrationEvent"})
2021-05-19 18:18:01.366 +02:00 [INF] ----- Commit transaction "4817b723-e52a-4b48-a86a-e623f1331922" for AssignStudentToGroupCommand
2021-05-19 18:18:01.371 +02:00 [INF] ----- Publishing integration event: "db1f8279-04e6-4d25-b8de-c101d885a6fb" from  - ({"StudentId":{"Value":"bd2015cd-aae0-4f2c-9542-424ddbf639e8","$type":"MemberId"},"GroupId":{"Value":"2187da54-4c8a-45cb-9cc6-f8be2404601e","$type":"GroupId"},"Id":"db1f8279-04e6-4d25-b8de-c101d885a6fb","CreationDate":"2021-05-19T16:18:01.3412548Z","$type":"StudentAssignedIntegrationEvent"})
2021-05-19 18:18:01.420 +02:00 [INF] ----- Request AssignStudentToGroupCommand handled successfully!
2021-05-19 18:18:47.225 +02:00 [INF] ----- Handling user request PromoteTreasurerCommand ({"GroupId":"2187da54-4c8a-45cb-9cc6-f8be2404601e","StudentId":"bd2015cd-aae0-4f2c-9542-424ddbf639e8","SchoolId":"d4e6058b-302e-42ea-aa2f-994a66c374fc","$type":"PromoteTreasurerCommand"})
2021-05-19 18:18:47.229 +02:00 [INF] ----- Begin transaction "b52534c3-5467-4eff-90c0-38d79faf7c44" for PromoteTreasurerCommand ({"GroupId":"2187da54-4c8a-45cb-9cc6-f8be2404601e","StudentId":"bd2015cd-aae0-4f2c-9542-424ddbf639e8","SchoolId":"d4e6058b-302e-42ea-aa2f-994a66c374fc","$type":"PromoteTreasurerCommand"})
2021-05-19 18:18:47.268 +02:00 [INF] Publishing domain event. Event - TreasurerPromotedDomainEvent
2021-05-19 18:18:47.271 +02:00 [INF] ----- Enqueuing integration event "77b63a6a-5324-4151-b40f-755772d0afce" to repository ({"StudentId":{"Value":"bd2015cd-aae0-4f2c-9542-424ddbf639e8","$type":"MemberId"},"AssignedRole":"Treasurer","Id":"77b63a6a-5324-4151-b40f-755772d0afce","CreationDate":"2021-05-19T16:18:47.2715083Z","$type":"TreasurerPromotedIntegrationEvent"})
2021-05-19 18:18:47.300 +02:00 [INF] ----- Commit transaction "b52534c3-5467-4eff-90c0-38d79faf7c44" for PromoteTreasurerCommand
2021-05-19 18:18:47.308 +02:00 [INF] ----- Publishing integration event: "77b63a6a-5324-4151-b40f-755772d0afce" from  - ({"StudentId":{"Value":"bd2015cd-aae0-4f2c-9542-424ddbf639e8","$type":"MemberId"},"AssignedRole":"Treasurer","Id":"77b63a6a-5324-4151-b40f-755772d0afce","CreationDate":"2021-05-19T16:18:47.2715083Z","$type":"TreasurerPromotedIntegrationEvent"})
2021-05-19 18:18:47.337 +02:00 [INF] ----- Request PromoteTreasurerCommand handled successfully!
2021-05-19 18:19:16.048 +02:00 [INF] ----- Handling user request DeleteGroupCommand ({"GroupId":"2187da54-4c8a-45cb-9cc6-f8be2404601e","SchoolId":"d4e6058b-302e-42ea-aa2f-994a66c374fc","$type":"DeleteGroupCommand"})
2021-05-19 18:19:16.051 +02:00 [INF] ----- Begin transaction "058e0473-a28b-4d70-b2fa-ddc6be40aaa5" for DeleteGroupCommand ({"GroupId":"2187da54-4c8a-45cb-9cc6-f8be2404601e","SchoolId":"d4e6058b-302e-42ea-aa2f-994a66c374fc","$type":"DeleteGroupCommand"})
2021-05-19 18:19:16.219 +02:00 [INF] Publishing domain event. Event - StudentDisenrolledDomainEvent
2021-05-19 18:19:16.222 +02:00 [INF] ----- Enqueuing integration event "0a98dd4c-61a7-4a87-99dd-fbdee5827e5d" to repository ({"StudentId":{"Value":"bd2015cd-aae0-4f2c-9542-424ddbf639e8","$type":"MemberId"},"RemovedRole":"Treasurer","Id":"0a98dd4c-61a7-4a87-99dd-fbdee5827e5d","CreationDate":"2021-05-19T16:19:16.2219156Z","$type":"StudentDisenrolledIntegrationEvent"})
2021-05-19 18:19:16.257 +02:00 [INF] ----- Commit transaction "058e0473-a28b-4d70-b2fa-ddc6be40aaa5" for DeleteGroupCommand
2021-05-19 18:19:16.262 +02:00 [INF] ----- Publishing integration event: "0a98dd4c-61a7-4a87-99dd-fbdee5827e5d" from  - ({"StudentId":{"Value":"bd2015cd-aae0-4f2c-9542-424ddbf639e8","$type":"MemberId"},"RemovedRole":"Treasurer","Id":"0a98dd4c-61a7-4a87-99dd-fbdee5827e5d","CreationDate":"2021-05-19T16:19:16.2219156Z","$type":"StudentDisenrolledIntegrationEvent"})
2021-05-19 18:19:16.277 +02:00 [INF] ----- Request DeleteGroupCommand handled successfully!
2021-05-19 18:19:16.764 +02:00 [INF] Dead letter event (Type: DeadLetterIntegrationEvent, Id: "0a98dd4c-61a7-4a87-99dd-fbdee5827e5d") has been saved with reason: rejected
