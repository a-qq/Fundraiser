2021-06-03 00:08:20.617 +02:00 [INF] Configuring web host ()...
2021-06-03 00:08:24.201 +02:00 [INF] Applying migrations ()...
2021-06-03 00:08:24.859 +02:00 [INF] Migrating database associated with context SchoolContext
2021-06-03 00:08:28.568 +02:00 [INF] Migrated database associated with context SchoolContext
2021-06-03 00:08:28.582 +02:00 [INF] Migrating database associated with context IntegrationEventLogContext
2021-06-03 00:08:28.603 +02:00 [INF] Migrated database associated with context IntegrationEventLogContext
2021-06-03 00:08:28.607 +02:00 [INF] Migrating database associated with context DeadLetterContext
2021-06-03 00:08:28.937 +02:00 [INF] Migrated database associated with context DeadLetterContext
2021-06-03 00:08:28.950 +02:00 [INF] Migrating database associated with context FundraiserContext
2021-06-03 00:08:29.605 +02:00 [INF] Migrated database associated with context FundraiserContext
2021-06-03 00:08:29.608 +02:00 [INF] Migrating database associated with context IntegrationEventLogContext
2021-06-03 00:08:29.663 +02:00 [INF] Migrated database associated with context IntegrationEventLogContext
2021-06-03 00:08:29.664 +02:00 [INF] Starting web host ()...
2021-06-03 00:08:30.290 +02:00 [INF] RabbitMQ Client is trying to connect
2021-06-03 00:08:30.503 +02:00 [INF] RabbitMQ Client acquired a persistent connection to 'localhost' and is subscribed to failure events
2021-06-03 00:08:30.559 +02:00 [INF] Subscribing to event UserRegisteredIntegrationEvent with IIntegrationEventHandler<UserRegisteredIntegrationEvent>
2021-06-03 00:08:30.618 +02:00 [INF] Subscribing to event DeadLetterIntegrationEvent with IIntegrationEventHandler<DeadLetterIntegrationEvent>
2021-06-03 00:11:18.845 +02:00 [INF] AuthenticationScheme: Bearer was forbidden.
2021-06-03 00:14:38.415 +02:00 [INF] AuthenticationScheme: Bearer was forbidden.
2021-06-03 00:20:26.605 +02:00 [INF] AuthenticationScheme: Bearer was forbidden.
2021-06-03 00:22:55.942 +02:00 [INF] Configuring web host ()...
2021-06-03 00:22:59.081 +02:00 [INF] Applying migrations ()...
2021-06-03 00:22:59.505 +02:00 [INF] Migrating database associated with context SchoolContext
2021-06-03 00:23:03.049 +02:00 [INF] Migrated database associated with context SchoolContext
2021-06-03 00:23:03.065 +02:00 [INF] Migrating database associated with context IntegrationEventLogContext
2021-06-03 00:23:03.111 +02:00 [INF] Migrated database associated with context IntegrationEventLogContext
2021-06-03 00:23:03.115 +02:00 [INF] Migrating database associated with context DeadLetterContext
2021-06-03 00:23:03.484 +02:00 [INF] Migrated database associated with context DeadLetterContext
2021-06-03 00:23:03.491 +02:00 [INF] Migrating database associated with context FundraiserContext
2021-06-03 00:23:04.518 +02:00 [INF] Migrated database associated with context FundraiserContext
2021-06-03 00:23:04.521 +02:00 [INF] Migrating database associated with context IntegrationEventLogContext
2021-06-03 00:23:04.583 +02:00 [INF] Migrated database associated with context IntegrationEventLogContext
2021-06-03 00:23:04.583 +02:00 [INF] Starting web host ()...
2021-06-03 00:23:06.203 +02:00 [INF] RabbitMQ Client is trying to connect
2021-06-03 00:23:06.972 +02:00 [INF] RabbitMQ Client acquired a persistent connection to 'localhost' and is subscribed to failure events
2021-06-03 00:23:07.571 +02:00 [INF] Subscribing to event UserRegisteredIntegrationEvent with IIntegrationEventHandler<UserRegisteredIntegrationEvent>
2021-06-03 00:23:07.793 +02:00 [INF] Subscribing to event DeadLetterIntegrationEvent with IIntegrationEventHandler<DeadLetterIntegrationEvent>
2021-06-03 19:58:37.471 +02:00 [INF] Configuring web host ()...
2021-06-03 19:58:40.899 +02:00 [INF] Applying migrations ()...
2021-06-03 19:58:41.266 +02:00 [INF] Migrating database associated with context SchoolContext
2021-06-03 19:58:43.534 +02:00 [INF] Migrated database associated with context SchoolContext
2021-06-03 19:58:43.547 +02:00 [INF] Migrating database associated with context IntegrationEventLogContext
2021-06-03 19:58:43.564 +02:00 [INF] Migrated database associated with context IntegrationEventLogContext
2021-06-03 19:58:43.567 +02:00 [INF] Migrating database associated with context DeadLetterContext
2021-06-03 19:58:43.663 +02:00 [INF] Migrated database associated with context DeadLetterContext
2021-06-03 19:58:43.671 +02:00 [INF] Migrating database associated with context FundraiserContext
2021-06-03 19:58:43.926 +02:00 [INF] Migrated database associated with context FundraiserContext
2021-06-03 19:58:43.928 +02:00 [INF] Migrating database associated with context IntegrationEventLogContext
2021-06-03 19:58:43.979 +02:00 [INF] Migrated database associated with context IntegrationEventLogContext
2021-06-03 19:58:43.979 +02:00 [INF] Starting web host ()...
2021-06-03 19:58:44.396 +02:00 [INF] RabbitMQ Client is trying to connect
2021-06-03 19:58:44.518 +02:00 [INF] RabbitMQ Client acquired a persistent connection to 'localhost' and is subscribed to failure events
2021-06-03 19:58:44.559 +02:00 [INF] Subscribing to event UserRegisteredIntegrationEvent with IIntegrationEventHandler<UserRegisteredIntegrationEvent>
2021-06-03 19:58:44.578 +02:00 [INF] Subscribing to event DeadLetterIntegrationEvent with IIntegrationEventHandler<DeadLetterIntegrationEvent>
2021-06-03 20:03:49.003 +02:00 [INF] Configuring web host ()...
2021-06-03 20:03:51.872 +02:00 [INF] Applying migrations ()...
2021-06-03 20:03:52.247 +02:00 [INF] Migrating database associated with context SchoolContext
2021-06-03 20:03:54.239 +02:00 [INF] Migrated database associated with context SchoolContext
2021-06-03 20:03:54.252 +02:00 [INF] Migrating database associated with context IntegrationEventLogContext
2021-06-03 20:03:54.268 +02:00 [INF] Migrated database associated with context IntegrationEventLogContext
2021-06-03 20:03:54.271 +02:00 [INF] Migrating database associated with context DeadLetterContext
2021-06-03 20:03:54.355 +02:00 [INF] Migrated database associated with context DeadLetterContext
2021-06-03 20:03:54.362 +02:00 [INF] Migrating database associated with context FundraiserContext
2021-06-03 20:03:54.573 +02:00 [INF] Migrated database associated with context FundraiserContext
2021-06-03 20:03:54.575 +02:00 [INF] Migrating database associated with context IntegrationEventLogContext
2021-06-03 20:03:54.626 +02:00 [INF] Migrated database associated with context IntegrationEventLogContext
2021-06-03 20:03:54.626 +02:00 [INF] Starting web host ()...
2021-06-03 20:03:54.986 +02:00 [INF] RabbitMQ Client is trying to connect
2021-06-03 20:03:55.090 +02:00 [INF] RabbitMQ Client acquired a persistent connection to 'localhost' and is subscribed to failure events
2021-06-03 20:03:55.135 +02:00 [INF] Subscribing to event UserRegisteredIntegrationEvent with IIntegrationEventHandler<UserRegisteredIntegrationEvent>
2021-06-03 20:03:55.154 +02:00 [INF] Subscribing to event DeadLetterIntegrationEvent with IIntegrationEventHandler<DeadLetterIntegrationEvent>
2021-06-03 20:12:49.868 +02:00 [INF] Configuring web host ()...
2021-06-03 20:12:52.819 +02:00 [INF] Applying migrations ()...
2021-06-03 20:12:53.149 +02:00 [INF] Migrating database associated with context SchoolContext
2021-06-03 20:12:55.665 +02:00 [INF] Migrated database associated with context SchoolContext
2021-06-03 20:12:55.679 +02:00 [INF] Migrating database associated with context IntegrationEventLogContext
2021-06-03 20:12:55.699 +02:00 [INF] Migrated database associated with context IntegrationEventLogContext
2021-06-03 20:12:55.702 +02:00 [INF] Migrating database associated with context DeadLetterContext
2021-06-03 20:12:55.803 +02:00 [INF] Migrated database associated with context DeadLetterContext
2021-06-03 20:12:55.809 +02:00 [INF] Migrating database associated with context FundraiserContext
2021-06-03 20:12:56.051 +02:00 [INF] Migrated database associated with context FundraiserContext
2021-06-03 20:12:56.053 +02:00 [INF] Migrating database associated with context IntegrationEventLogContext
2021-06-03 20:12:56.120 +02:00 [INF] Migrated database associated with context IntegrationEventLogContext
2021-06-03 20:12:56.120 +02:00 [INF] Starting web host ()...
2021-06-03 20:12:56.549 +02:00 [INF] RabbitMQ Client is trying to connect
2021-06-03 20:12:56.668 +02:00 [INF] RabbitMQ Client acquired a persistent connection to 'localhost' and is subscribed to failure events
2021-06-03 20:12:56.711 +02:00 [INF] Subscribing to event UserRegisteredIntegrationEvent with IIntegrationEventHandler<UserRegisteredIntegrationEvent>
2021-06-03 20:12:56.741 +02:00 [INF] Subscribing to event DeadLetterIntegrationEvent with IIntegrationEventHandler<DeadLetterIntegrationEvent>
2021-06-03 20:55:10.424 +02:00 [WRN] A RabbitMQ connection is on shutdown. Trying to re-connect...
2021-06-03 20:55:10.425 +02:00 [INF] RabbitMQ Client is trying to connect
2021-06-03 20:55:10.642 +02:00 [INF] RabbitMQ Client acquired a persistent connection to 'localhost' and is subscribed to failure events
2021-06-03 21:02:23.788 +02:00 [INF] Configuring web host ()...
2021-06-03 21:02:26.663 +02:00 [INF] Applying migrations ()...
2021-06-03 21:02:27.020 +02:00 [INF] Migrating database associated with context SchoolContext
2021-06-03 21:02:29.340 +02:00 [INF] Migrated database associated with context SchoolContext
2021-06-03 21:02:29.354 +02:00 [INF] Migrating database associated with context IntegrationEventLogContext
2021-06-03 21:02:29.382 +02:00 [INF] Migrated database associated with context IntegrationEventLogContext
2021-06-03 21:02:29.384 +02:00 [INF] Migrating database associated with context DeadLetterContext
2021-06-03 21:02:29.977 +02:00 [INF] Migrated database associated with context DeadLetterContext
2021-06-03 21:02:29.985 +02:00 [INF] Migrating database associated with context FundraiserContext
2021-06-03 21:02:30.782 +02:00 [INF] Migrated database associated with context FundraiserContext
2021-06-03 21:02:30.785 +02:00 [INF] Migrating database associated with context IntegrationEventLogContext
2021-06-03 21:02:30.847 +02:00 [INF] Migrated database associated with context IntegrationEventLogContext
2021-06-03 21:02:30.848 +02:00 [INF] Starting web host ()...
2021-06-03 21:02:31.373 +02:00 [INF] RabbitMQ Client is trying to connect
2021-06-03 21:02:31.572 +02:00 [INF] RabbitMQ Client acquired a persistent connection to 'localhost' and is subscribed to failure events
2021-06-03 21:02:31.651 +02:00 [INF] Subscribing to event UserRegisteredIntegrationEvent with IIntegrationEventHandler<UserRegisteredIntegrationEvent>
2021-06-03 21:02:31.670 +02:00 [INF] Subscribing to event DeadLetterIntegrationEvent with IIntegrationEventHandler<DeadLetterIntegrationEvent>
2021-06-03 21:03:02.104 +02:00 [INF] ----- Handling user request RegisterSchoolCommand ({"Name":"string","YearsOfEducation":0,"HeadmasterFirstName":"string","HeadmasterLastName":"string","HeadmasterEmail":"string","HeadmasterGender":"string","$type":"RegisterSchoolCommand"})
2021-06-03 21:03:06.268 +02:00 [INF] User 3f0b0a5f-7aa6-46f4-9247-3ef9a9df2407 claim principal: System.Security.Claims.ClaimsPrincipal
2021-06-03 21:03:06.336 +02:00 [INF] ----- Request RegisterSchoolCommand failed - error(s): {"Code":"invalid.body.input.values","Message":[{"FieldName":"Name","Message":["Name should contain min 8 characters!"],"$type":"BodyFieldErrorModel"},{"FieldName":"YearsOfEducation","Message":["YearsOfEducation is required and must be at least 2!"],"$type":"BodyFieldErrorModel"},{"FieldName":"HeadmasterEmail","Message":["HeadmasterEmail is invalid!"],"$type":"BodyFieldErrorModel"},{"FieldName":"HeadmasterGender","Message":["HeadmasterGender is invalid!"],"$type":"BodyFieldErrorModel"}],"$type":"SharedRequestError"}
2021-06-03 21:05:05.203 +02:00 [INF] ----- Handling user request RegisterSchoolCommand ({"Name":"string","YearsOfEducation":0,"HeadmasterFirstName":"string","HeadmasterLastName":"string","HeadmasterEmail":"string","HeadmasterGender":"string","$type":"RegisterSchoolCommand"})
2021-06-03 21:10:07.104 +02:00 [INF] Configuring web host ()...
2021-06-03 21:10:10.640 +02:00 [INF] Applying migrations ()...
2021-06-03 21:10:10.976 +02:00 [INF] Migrating database associated with context SchoolContext
2021-06-03 21:10:13.426 +02:00 [INF] Migrated database associated with context SchoolContext
2021-06-03 21:10:13.441 +02:00 [INF] Migrating database associated with context IntegrationEventLogContext
2021-06-03 21:10:13.475 +02:00 [INF] Migrated database associated with context IntegrationEventLogContext
2021-06-03 21:10:13.478 +02:00 [INF] Migrating database associated with context DeadLetterContext
2021-06-03 21:10:13.572 +02:00 [INF] Migrated database associated with context DeadLetterContext
2021-06-03 21:10:13.579 +02:00 [INF] Migrating database associated with context FundraiserContext
2021-06-03 21:10:14.303 +02:00 [INF] Migrated database associated with context FundraiserContext
2021-06-03 21:10:14.307 +02:00 [INF] Migrating database associated with context IntegrationEventLogContext
2021-06-03 21:10:14.378 +02:00 [INF] Migrated database associated with context IntegrationEventLogContext
2021-06-03 21:10:14.378 +02:00 [INF] Starting web host ()...
2021-06-03 21:10:14.893 +02:00 [INF] RabbitMQ Client is trying to connect
2021-06-03 21:10:15.013 +02:00 [INF] RabbitMQ Client acquired a persistent connection to 'localhost' and is subscribed to failure events
2021-06-03 21:10:15.061 +02:00 [INF] Subscribing to event UserRegisteredIntegrationEvent with IIntegrationEventHandler<UserRegisteredIntegrationEvent>
2021-06-03 21:10:15.080 +02:00 [INF] Subscribing to event DeadLetterIntegrationEvent with IIntegrationEventHandler<DeadLetterIntegrationEvent>
2021-06-03 21:10:55.597 +02:00 [INF] ----- Handling user request RegisterSchoolCommand ({"Name":"string","YearsOfEducation":0,"HeadmasterFirstName":"string","HeadmasterLastName":"string","HeadmasterEmail":"string","HeadmasterGender":"string","$type":"RegisterSchoolCommand"})
2021-06-03 21:10:59.282 +02:00 [INF] User 3f0b0a5f-7aa6-46f4-9247-3ef9a9df2407 claim principal: ["nbf: 1622747447","exp: 1622751047","iss: https://localhost:44309","aud: fundraiserapi","aud: https://localhost:44309/resources","client_id: fundraiserapi_swagger","sub: 3f0b0a5f-7aa6-46f4-9247-3ef9a9df2407","auth_time: 1622743448","idp: local","role: Administrator","jti: 5CB887B330AB296FCCF46CC49AF2649D","sid: 7896DCF199D0D75E28E39B9CECCEDF80","iat: 1622747447","scope: fundraiserapi.fullaccess","amr: pwd"]
2021-06-03 21:10:59.347 +02:00 [INF] ----- Request RegisterSchoolCommand failed - error(s): {"Code":"invalid.body.input.values","Message":[{"FieldName":"Name","Message":["Name should contain min 8 characters!"],"$type":"BodyFieldErrorModel"},{"FieldName":"YearsOfEducation","Message":["YearsOfEducation is required and must be at least 2!"],"$type":"BodyFieldErrorModel"},{"FieldName":"HeadmasterEmail","Message":["HeadmasterEmail is invalid!"],"$type":"BodyFieldErrorModel"},{"FieldName":"HeadmasterGender","Message":["HeadmasterGender is invalid!"],"$type":"BodyFieldErrorModel"}],"$type":"SharedRequestError"}
